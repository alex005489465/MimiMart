# Java 後端開發環境配置
#
# 重要：這些環境變數只用於基礎設施連接
# Spring Boot 應用層配置請在後端專案的 application.yml 中定義
#
# 使用說明：複製此檔案為 .env 並填入實際值

# 資料庫配置
DB_URL=jdbc:mysql://mimimart-mysql:3306/mimimart_ecommerce?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Taipei&useSSL=false&allowPublicKeyRetrieval=true
DB_USERNAME=your_db_username
DB_PASSWORD=your_db_password

# JWT 配置
# 生成指令: openssl rand -base64 64
JWT_SECRET=your_jwt_secret_key_at_least_512_bits
# Access Token 有效期 (毫秒) - 會員 15 分鐘 = 900000, 管理員 30 分鐘 = 1800000
JWT_MEMBER_ACCESS_EXPIRATION=900000
JWT_ADMIN_ACCESS_EXPIRATION=1800000
# Refresh Token 有效期 (毫秒) - 7 天 = 604800000
JWT_REFRESH_EXPIRATION=604800000

# 郵件配置 (開發環境使用 Mailpit)
MAIL_HOST=mailpit
MAIL_PORT=1025
MAIL_USERNAME=noreply@yourdomain.com
MAIL_PASSWORD=
MAIL_SMTP_AUTH=false
MAIL_SMTP_STARTTLS=false

# 應用程式配置
APP_BASE_URL=http://localhost:8083

# 測試端點配置 (僅開發/測試環境啟用,生產環境設為 false)
APP_TEST_ENDPOINTS_ENABLED=true

# CORS 配置 (多個來源用逗號分隔,不要有空格)
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://mimimart-shop-frontend:5173,http://localhost:8083

# 日誌配置 (可選值: TRACE, DEBUG, INFO, WARN, ERROR)
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_LEVEL_WEB=DEBUG
LOG_LEVEL_SQL=DEBUG
LOG_LEVEL_SQL_BINDER=TRACE

# JPA 配置
JPA_SHOW_SQL=true

# Mailpit API 配置 (可選)
MAILPIT_API_URL=http://mailpit:8025/api/v1
