# Cloudflare Tunnel 配置檔案
#
# Tunnel ID 會自動從 credentials.json 讀取，無需在此處重複設定

# 憑證檔案路徑（容器內路徑）
# cloudflared 會自動從此文件讀取 Tunnel ID 和認證資訊
credentials-file: /etc/cloudflared/config/credentials.json

# Ingress 路由規則
# 請求會由上而下匹配，第一個符合的規則會生效
ingress:
  # 轉發所有請求到 Nginx
  # Nginx 會進行細粒度的路徑控制
  - service: http://nginx:80

# 日誌設定
loglevel: info

# 連線設定（可選）
# protocol: quic
# no-autoupdate: true

# 注意事項：
# 1. Tunnel ID 由 credentials.json 提供，無需手動填寫
# 2. 需要在 Cloudflare Zero Trust Dashboard 設定 Public Hostname
# 3. 若 Dashboard 有路由設定，會覆蓋此處的 ingress 規則
# 4. 若要在此處設定域名路由，可使用以下格式：
#
# ingress:
#   - hostname: your-domain.example.com
#     service: http://nginx:80
#   - service: http_status:404  # catch-all（必須存在）
#
# 5. service 指向容器名稱，因為所有容器在同一個 Docker 網路中
